# PostgresFTS_with_Sqlalchemy
Цель данного репозитория - показать, как можно связать полнотекстовый поиск в Postgres с orm sqlalchemy.

Почему бы не использовать уже предназначенные для поиска сервисы? Не хочется иметь ещё одну сущность, особенно если у нас сравнительно небольшое приложение. 
Так как СУБД нужна практически всем приложениям и чаще всего используют именно Postgres,
который как раз может взять на себя функции полнотекстового поиска(FTS). 
Это более дешевый и быстрый вариант, поскольку он не требует дополнительной настройки и обслуживания. 
Но поисковые сервисы, как бы логично это не звучало, лучше оптимизированы для поиска. Поэтому что именно использовать, решать вам.

Flask тут не особо нужен, я его использую из-за flask shell и миграций, так как c ними мне удобнее работать).

В основном все это делаю для себя, чтобы всегда можно было подсмотреть реализцию.

Перед просмотром советую ознакомиться с документацией PostgresFTS: https://postgrespro.ru/docs/postgresql/14/textsearch-intro?ysclid=l87p76cpxb182823389.
Вскоре думаю добавить небольшое описание запросов из PostgresFTS с примерами.

## Основные комментарии указаны в коде, но обязательно надо добавить:

Если создать индекс с конфигурацией 'russian' или другим параметром, и выполнять запрос tsquery без данного параметра, то индекс работать не будет.

Ранжирование ts_rank работает странно, лучше всего его использовать, если у вас несколько параметров ранжирования с разными весами. Если убрать ts_rank,
то скорость запроса увеличится.
